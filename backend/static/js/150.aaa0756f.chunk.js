"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[150],{9982:(e,t,s)=>{s.d(t,{Z:()=>u});var a=s(2791),n=s(9658),i=s(1889),r=s(5527),o=s(890),l=s(7391),c=s(4294),d=s(184);const u=()=>{const[e,t]=(0,a.useState)(null),[s,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[y,g]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[f,b]=(0,a.useState)({checkFrequency:{days:"",hours:"",minutes:"",seconds:""},successRetention:{days:"",hours:"",minutes:"",seconds:""},failureRetention:{days:"",hours:"",minutes:"",seconds:""}}),[Z,P]=(0,a.useState)(!1),[C,T]=(0,a.useState)({minutes:"",seconds:""}),[S,_]=(0,a.useState)({days:"",hours:"",minutes:"",seconds:""}),[R,k]=(0,a.useState)(!1);if((0,a.useEffect)((()=>{setTimeout((()=>{u(""),p(""),x(""),g(""),v("")}),5e3)}),[s,m,h,y,j]),(0,a.useEffect)((()=>{(async()=>{try{const n=await fetch("/node-parameter/"),i=await n.json();if(t(i),i.node_parameters){var e,s,a;const t=null===(e=i.node_parameters.find((e=>"retention_parameter"===e.name)))||void 0===e?void 0:e.value;t&&b(t);const n=null===(s=i.node_parameters.find((e=>"time_delay"===e.name)))||void 0===s?void 0:s.value;n&&T(n);const r=null===(a=i.node_parameters.find((e=>"publish_time"===e.name)))||void 0===a?void 0:a.value;r&&_(r)}}catch(n){console.error("Error fetching data:",n)}})()}),[]),!e)return(0,d.jsx)("p",{children:"Loading..."});const M=e=>{let{message:t}=e;return(0,d.jsx)(n.Z,{severity:"success",children:t})},w=e=>{let{message:t}=e;return(0,d.jsx)(n.Z,{severity:"error",children:t})};return(0,d.jsxs)(i.ZP,{container:!0,spacing:1,children:[(0,d.jsxs)(i.ZP,{item:!0,xs:12,children:[s&&(0,d.jsx)(M,{message:s,onClose:()=>u("")}),m&&(0,d.jsx)(M,{message:m,onClose:()=>p("")}),h&&(0,d.jsx)(M,{message:h,onClose:()=>x("")}),y&&(0,d.jsx)(w,{message:y,onClose:()=>g("")})]}),(0,d.jsx)(i.ZP,{item:!0,xs:4,children:(0,d.jsxs)(r.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"h6",children:"Retention Parameters"}),(0,d.jsxs)("form",{children:[["check_frequency","success_retention","failure_retention"].map(((e,t)=>(0,d.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"subtitle1",children:e.replace("_"," ")}),(0,d.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:["days","hours","minutes","seconds"].map(((t,s)=>(0,d.jsx)(l.Z,{label:t.charAt(0).toUpperCase()+t.slice(1),type:"number",value:f[e][t],onChange:s=>((e,t,s)=>{const a=parseInt(s,10);isNaN(a)||b((s=>({...s,[e]:{...s[e],[t]:a}}))),P(!0)})(e,t,s.target.value),fullWidth:!0,style:{marginRight:"10px"},inputProps:{min:0,max:"days"===t?31:"hours"===t?24:60}},s)))})]},t))),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,d.jsx)(c.Z,{onClick:()=>{b({check_frequency:{days:0,hours:0,minutes:0,seconds:0},success_retention:{days:0,hours:0,minutes:0,seconds:0},failure_retention:{days:0,hours:0,minutes:0,seconds:0}}),P(!1)},color:"primary",variant:"contained",style:{marginRight:"10px"},children:"Reset"}),(0,d.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/5",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_parameter:f})});P(!1),e.ok?u("Retention Parameters updated successfully."):g("Failed to update Retention Parameters: ".concat(e.statusText))}catch(e){g("Error updating Retention Parameters: ".concat(e))}},color:"primary",variant:"contained",disabled:!Z,children:"Submit"})]})]})]})}),(0,d.jsx)(i.ZP,{item:!0,xs:4,children:(0,d.jsxs)(r.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"h6",children:"Time Delay Parameters"}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginRight:"20px"},children:[(0,d.jsx)(l.Z,{label:"Minutes",type:"number",value:C.minutes,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),T((e=>({...e,minutes:t}))),k(!0)},inputProps:{step:1,min:0,max:60}}),(0,d.jsx)(l.Z,{label:"Seconds",type:"number",value:C.seconds,onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),T((e=>({...e,seconds:t}))),k(!0)},inputProps:{step:1,min:0,max:60}})]}),(0,d.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/6",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({time_delay:C})});k(!1),e.ok?p("Time Delay updated successfully."):g("Failed to update Time Delay: ".concat(e.statusText))}catch(e){g("Error updating Time Delay: ".concat(e))}},color:"primary",variant:"contained",style:{marginBottom:"15px"},disabled:!R,children:"Submit"})]})]})}),(0,d.jsx)(i.ZP,{item:!0,xs:4,children:(0,d.jsxs)(r.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"h6",children:" Publish Time"}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginRight:"20px"},children:[(0,d.jsx)(l.Z,{label:"Days",type:"number",value:S.days,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,31),t=Math.max(t,0),_((e=>({...e,days:t}))),k(!0)},inputProps:{step:1,min:0,max:31}}),(0,d.jsx)(l.Z,{label:"Hours",type:"number",value:S.hours,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,24),t=Math.max(t,0),_((e=>({...e,hours:t}))),k(!0)},inputProps:{step:1,min:0,max:24}}),(0,d.jsx)(l.Z,{label:"Minutes",type:"number",value:S.minutes,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),_((e=>({...e,minutes:t}))),k(!0)},inputProps:{step:1,min:0,max:60}}),(0,d.jsx)(l.Z,{label:"Seconds",type:"number",value:S.seconds,onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),_((e=>({...e,seconds:t}))),k(!0)},inputProps:{step:1,min:0,max:60}})]}),(0,d.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/7",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({publish_time:S})});k(!1),e.ok?x("Publish Time updated successfully."):g("Failed to update Publish Time: ".concat(e.statusText))}catch(e){g("Error updating Publish Time: ".concat(e))}},color:"primary",variant:"contained",style:{marginBottom:"15px"},disabled:!R,children:"Submit"})]})]})})]})}},4229:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});s(2791);var a=s(9982),n=s(184);const i=()=>(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Retention"}),(0,n.jsx)(a.Z,{})]})}}]);
//# sourceMappingURL=150.aaa0756f.chunk.js.map