(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[229],{9982:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(2791),r=a(9658),s=a(1889),i=a(5527),o=a(890),l=a(7391),c=a(4294),u=a(3400),p=a(5678),d=a(5172),m=a(184);const h=()=>{const[e,t]=(0,n.useState)(null),[a,h]=(0,n.useState)(""),[x,y]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[f,Z]=(0,n.useState)(""),[j,b]=(0,n.useState)(""),[C,P]=(0,n.useState)({checkFrequency:{days:"",hours:"",minutes:"",seconds:""},successRetention:{days:"",hours:"",minutes:"",seconds:""},failureRetention:{days:"",hours:"",minutes:"",seconds:""}}),[S,_]=(0,n.useState)(!1),[M,w]=(0,n.useState)({minutes:"",seconds:""}),[T,R]=(0,n.useState)({days:"",hours:"",minutes:"",seconds:""}),[k,B]=(0,n.useState)(!1),[D,I]=(0,n.useState)(!1),[W,E]=(0,n.useState)(!0),[N,F]=(0,n.useState)(!0),[L,O]=(0,n.useState)(!0);if((0,n.useEffect)((()=>{setTimeout((()=>{h(""),y(""),v(""),Z(""),b("")}),5e3)}),[a,x,g,f,j]),(0,n.useEffect)((()=>{(async()=>{try{const r=await fetch("/node-parameter/"),s=await r.json();if(t(s),s.node_parameters){var e,a,n;const t=null===(e=s.node_parameters.find((e=>"retention_parameter"===e.name)))||void 0===e?void 0:e.value;t&&P(t);const r=null===(a=s.node_parameters.find((e=>"time_delay"===e.name)))||void 0===a?void 0:a.value;r&&w(r);const i=null===(n=s.node_parameters.find((e=>"publish_time"===e.name)))||void 0===n?void 0:n.value;i&&R(i)}}catch(r){console.error("Error fetching data:",r)}})()}),[]),!e)return(0,m.jsx)("p",{children:"Loading..."});const U=e=>{let{message:t}=e;return(0,m.jsx)(r.Z,{severity:"success",children:t})},q=e=>{let{message:t}=e;return(0,m.jsx)(r.Z,{severity:"error",children:t})};return(0,m.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,m.jsxs)(s.ZP,{item:!0,xs:12,children:[a&&(0,m.jsx)(U,{message:a,onClose:()=>h("")}),x&&(0,m.jsx)(U,{message:x,onClose:()=>y("")}),g&&(0,m.jsx)(U,{message:g,onClose:()=>v("")}),f&&(0,m.jsx)(q,{message:f,onClose:()=>Z("")})]}),(0,m.jsx)(s.ZP,{item:!0,xs:4,children:(0,m.jsxs)(i.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,m.jsxs)(o.Z,{variant:"h6",children:["Retention Parameters",(0,m.jsx)(u.Z,{onClick:()=>E(!W),style:{marginLeft:"125px"},children:W?(0,m.jsx)(d.Z,{}):(0,m.jsx)(p.Z,{})})]}),W&&(0,m.jsxs)("form",{children:[["check_frequency","success_retention","failure_retention"].map(((e,t)=>(0,m.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,m.jsx)(o.Z,{variant:"subtitle1",children:e.replace("_"," ")}),(0,m.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:["days","hours","minutes","seconds"].map(((t,a)=>(0,m.jsx)(l.Z,{label:t.charAt(0).toUpperCase()+t.slice(1),type:"number",value:C[e][t],onChange:a=>{let n=parseInt(a.target.value,10);const r="hours"===t?24:"minutes"===t||"seconds"===t?60:void 0;void 0!==r&&n>r&&(n=r),((e,t,a)=>{const n=parseInt(a,10);isNaN(n)||P((a=>({...a,[e]:{...a[e],[t]:n}}))),_(!0)})(e,t,n)},fullWidth:!0,style:{marginRight:"10px"},inputProps:{min:0,max:"minutes"===t||"seconds"===t?60:void 0}},a)))})]},t))),(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(c.Z,{onClick:()=>{P({check_frequency:{days:0,hours:0,minutes:0,seconds:0},success_retention:{days:0,hours:0,minutes:0,seconds:0},failure_retention:{days:0,hours:0,minutes:0,seconds:0}}),_(!1)},color:"primary",variant:"contained",style:{marginRight:"10px"},children:"Reset"}),(0,m.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/5",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_parameter:C})});_(!1),e.ok?h("Retention Parameters updated successfully."):Z("Failed to update Retention Parameters: ".concat(e.statusText))}catch(e){Z("Error updating Retention Parameters: ".concat(e))}},color:"primary",variant:"contained",disabled:!S,children:"Submit"})]})]})]})}),(0,m.jsx)(s.ZP,{item:!0,xs:3,children:(0,m.jsxs)(i.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,m.jsxs)(o.Z,{variant:"h6",children:["Time Delay",(0,m.jsx)(u.Z,{onClick:()=>F(!N),style:{marginLeft:"125px"},children:N?(0,m.jsx)(d.Z,{}):(0,m.jsx)(p.Z,{})})]}),N&&(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginRight:"20px"},children:[(0,m.jsx)(l.Z,{label:"Minutes",type:"number",value:M.minutes,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),w((e=>({...e,minutes:t}))),B(!0)},inputProps:{step:1,min:0,max:60}}),(0,m.jsx)(l.Z,{label:"Seconds",type:"number",value:M.seconds,onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),w((e=>({...e,seconds:t}))),B(!0)},inputProps:{step:1,min:0,max:60}})]}),(0,m.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/6",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({time_delay:M})});B(!1),e.ok?y("Time Delay updated successfully."):Z("Failed to update Time Delay: ".concat(e.statusText))}catch(e){Z("Error updating Time Delay: ".concat(e))}},color:"primary",variant:"contained",style:{marginBottom:"15px"},disabled:!k,children:"Submit"})]})]})}),(0,m.jsx)(s.ZP,{item:!0,xs:5,children:(0,m.jsxs)(i.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,m.jsxs)(o.Z,{variant:"h6",children:["Publish Time",(0,m.jsx)(u.Z,{onClick:()=>O(!L),style:{marginLeft:"300px"},children:L?(0,m.jsx)(d.Z,{}):(0,m.jsx)(p.Z,{})})]}),L&&(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginRight:"20px"},children:[(0,m.jsx)(l.Z,{label:"Days",type:"number",value:T.days,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,31),t=Math.max(t,0),R((e=>({...e,days:t}))),I(!0)},inputProps:{step:1,min:0,max:31}}),(0,m.jsx)(l.Z,{label:"Hours",type:"number",value:T.hours,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,24),t=Math.max(t,0),R((e=>({...e,hours:t}))),I(!0)},inputProps:{step:1,min:0,max:24}}),(0,m.jsx)(l.Z,{label:"Minutes",type:"number",value:T.minutes,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),R((e=>({...e,minutes:t}))),I(!0)},inputProps:{step:1,min:0,max:60}}),(0,m.jsx)(l.Z,{label:"Seconds",type:"number",value:T.seconds,onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),R((e=>({...e,seconds:t}))),I(!0)},inputProps:{step:1,min:0,max:60}})]}),(0,m.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/7",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({publish_time:T})});I(!1),e.ok?v("Publish Time updated successfully."):Z("Failed to update Publish Time: ".concat(e.statusText))}catch(e){Z("Error updating Publish Time: ".concat(e))}},color:"primary",variant:"contained",style:{marginBottom:"15px"},disabled:!D,children:"Submit"})]})]})})]})}},4229:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});a(2791);var n=a(9982),r=a(184);const s=()=>(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Retention"}),(0,r.jsx)(n.Z,{})]})},5172:(e,t,a)=>{"use strict";var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184),i=(0,r.default)((0,s.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=i},5678:(e,t,a)=>{"use strict";var n=a(4836);t.Z=void 0;var r=n(a(5649)),s=a(184),i=(0,r.default)((0,s.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.Z=i},5649:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=a(4454)},890:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Z});var n=a(3366),r=a(7462),s=a(2791),i=a(9278),o=a(8519),l=a(4419),c=a(6934),u=a(1402),p=a(4036),d=a(5878),m=a(1217);function h(e){return(0,m.Z)("MuiTypography",e)}(0,d.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var x=a(184);const y=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.variant&&t[a.variant],"inherit"!==a.align&&t["align".concat((0,p.Z)(a.align))],a.noWrap&&t.noWrap,a.gutterBottom&&t.gutterBottom,a.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:a}=e;return(0,r.Z)({margin:0},"inherit"===a.variant&&{font:"inherit"},"inherit"!==a.variant&&t.typography[a.variant],"inherit"!==a.align&&{textAlign:a.align},a.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a.gutterBottom&&{marginBottom:"0.35em"},a.paragraph&&{marginBottom:16})})),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},f={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Z=s.forwardRef((function(e,t){const a=(0,u.Z)({props:e,name:"MuiTypography"}),s=(e=>f[e]||e)(a.color),c=(0,o.Z)((0,r.Z)({},a,{color:s})),{align:d="inherit",className:m,component:Z,gutterBottom:j=!1,noWrap:b=!1,paragraph:C=!1,variant:P="body1",variantMapping:S=v}=c,_=(0,n.Z)(c,y),M=(0,r.Z)({},c,{align:d,color:s,className:m,component:Z,gutterBottom:j,noWrap:b,paragraph:C,variant:P,variantMapping:S}),w=Z||(C?"p":S[P]||v[P])||"span",T=(e=>{const{align:t,gutterBottom:a,noWrap:n,paragraph:r,variant:s,classes:i}=e,o={root:["root",s,"inherit"!==e.align&&"align".concat((0,p.Z)(t)),a&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return(0,l.Z)(o,h,i)})(M);return(0,x.jsx)(g,(0,r.Z)({as:w,ref:t,ownerState:M,className:(0,i.Z)(T.root,m)},_))}))},4454:(e,t,a)=>{"use strict";a.r(t),a.d(t,{capitalize:()=>r.Z,createChainedFunction:()=>s,createSvgIcon:()=>i.Z,debounce:()=>o.Z,deprecatedPropType:()=>l,isMuiElement:()=>c.Z,ownerDocument:()=>u.Z,ownerWindow:()=>p.Z,requirePropFactory:()=>d,setRef:()=>m,unstable_ClassNameGenerator:()=>j,unstable_useEnhancedEffect:()=>h.Z,unstable_useId:()=>x,unsupportedProp:()=>y,useControlled:()=>g.Z,useEventCallback:()=>v.Z,useForkRef:()=>f.Z,useIsFocusVisible:()=>Z.Z});var n=a(5902),r=a(4036);const s=a(8949).Z;var i=a(6189),o=a(3199);const l=function(e,t){return()=>null};var c=a(9103),u=a(8301),p=a(7602);a(7462);const d=function(e,t){return()=>null};const m=a(2971).Z;var h=a(162);const x=a(8252).Z;const y=function(e,t,a,n,r){return null};var g=a(5158),v=a(9683),f=a(2071),Z=a(3031);const j={configure:e=>{n.Z.configure(e)}}},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=229.cf10a5ab.chunk.js.map