"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[505],{9703:(e,t,s)=>{s.d(t,{Z:()=>d});var n=s(2791),a=s(1614),r=s(697),i=s(4294),o=s(9657),l=s(8401),c=s(184);const d=()=>{const[e,t]=(0,n.useState)(null),s=(0,n.useRef)(null);return(0,c.jsx)(a.Z,{children:(0,c.jsxs)(r.Z,{position:"absolute",top:0,right:0,padding:"10px",marginRight:"270px",display:"flex",children:[(0,c.jsx)("input",{type:"file",accept:".json",style:{display:"none"},onChange:async e=>{try{const t=e.target.files[0],s=new FormData;s.append("file",t);const n=await fetch("/service/upload-json",{method:"POST",body:s});console.log("File uploaded successfully:",n)}catch(t){console.error("Error uploading file:",t)}},ref:s}),(0,c.jsx)(i.Z,{variant:"contained",startIcon:(0,c.jsx)(o.Z,{}),style:{marginRight:"10px",backgroundColor:"rgb(204, 85, 0)"},onClick:()=>s.current.click(),children:"Import"}),(0,c.jsx)(i.Z,{variant:"contained",startIcon:(0,c.jsx)(l.Z,{}),style:{backgroundColor:"rgb(204, 85, 0)"},onClick:async()=>{try{const e=await fetch("/service/get-json"),t=await e.json(),{config_data:s}=t,n=prompt("Enter a new file name:","DatabaseConfig");if(!n)return;const a=n.endsWith(".json")?n:"".concat(n,".json"),r=JSON.stringify(s,null,2),i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=a,document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.error("Error fetching or processing file:",e)}},children:"Export"})]})})}},3656:(e,t,s)=>{s.d(t,{Z:()=>Z});var n=s(2791),a=s(1614),r=s(3400),i=s(5289),o=s(5661),l=s(9157),c=s(8096),d=s(4925),p=s(3926),u=s(9891),h=s(7391),x=s(7123),m=s(4294),y=s(1563),g=s(3466),j=s(3746),f=s(165),v=s(184);const Z=()=>{const[e,t]=(0,n.useState)([]),[s,Z]=(0,n.useState)(""),[b,C]=(0,n.useState)(""),[w,k]=(0,n.useState)(!1),[S,P]=(0,n.useState)(!1),[T,R]=(0,n.useState)("");(0,n.useEffect)((()=>{fetch("/service/get-wifi-lists").then((e=>e.json())).then((e=>{Array.isArray(e.ssids)?t(e.ssids):console.error("Invalid data format:",e)})).catch((e=>console.error("Error fetching data:",e))),fetch("/service/get-connected-network").then((e=>e.json())).then((e=>{e.connectedNetwork&&R(e.connectedNetwork)})).catch((e=>console.error("Error fetching connected network data:",e)))}),[]);const _=()=>{Z(""),C(""),P(!1)};return(0,v.jsxs)(a.Z,{children:[(0,v.jsx)("div",{style:{position:"absolute",top:0,right:0,padding:"10px",marginRight:"225px"},children:(0,v.jsx)(r.Z,{onClick:()=>{P(!0)},children:(0,v.jsx)(y.Z,{style:{color:"rgb(33, 47, 61)"}})})}),(0,v.jsxs)(i.Z,{open:S,onClose:_,children:[(0,v.jsx)(o.Z,{children:"Wi-Fi"}),(0,v.jsx)(l.Z,{children:(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,v.jsxs)(c.Z,{children:[(0,v.jsx)(d.Z,{id:"network-select-label",style:{marginTop:"10px"},children:"Available-Network"}),(0,v.jsx)(p.Z,{labelId:"network-select-label",id:"network-select",value:s,onChange:e=>{Z(e.target.value)},label:"Available-Network",style:{marginTop:"10px",width:"200px"},children:e.map(((e,t)=>(0,v.jsxs)(u.Z,{value:e,children:[e," ",T===e&&"\u2714\ufe0f"]},t)))})]}),(0,v.jsx)(h.Z,{margin:"normal",label:"Password",type:w?"text":"password",value:b,onChange:e=>{C(e.target.value)},style:{marginTop:"10px",width:"200px"},InputProps:{endAdornment:(0,v.jsx)(g.Z,{position:"end",children:(0,v.jsx)(r.Z,{onClick:()=>{k(!w)},children:w?(0,v.jsx)(f.Z,{fontSize:"small"}):(0,v.jsx)(j.Z,{fontSize:"small"})})})}})]})}),(0,v.jsxs)(x.Z,{children:[(0,v.jsx)(m.Z,{onClick:_,color:"primary",children:"Cancel"}),(0,v.jsx)(m.Z,{onClick:()=>{if(!s||!b)return void console.error("SSID and password are required.");const e={ssid:s,password:b};fetch("/service/connect-network",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{})).catch((e=>{console.error("Error connecting to the network:",e)})),_()},color:"primary",children:"Connect"})]})]})]})}},9982:(e,t,s)=>{s.d(t,{Z:()=>p});var n=s(2791),a=s(9658),r=s(1889),i=s(5527),o=s(890),l=s(7391),c=s(4294),d=s(184);const p=()=>{const[e,t]=(0,n.useState)(null),[s,p]=(0,n.useState)(""),[u,h]=(0,n.useState)(""),[x,m]=(0,n.useState)(""),[y,g]=(0,n.useState)(""),[j,f]=(0,n.useState)(""),[v,Z]=(0,n.useState)({checkFrequency:{days:"",hours:"",minutes:"",seconds:""},successRetention:{days:"",hours:"",minutes:"",seconds:""},failureRetention:{days:"",hours:"",minutes:"",seconds:""}}),[b,C]=(0,n.useState)(!1),[w,k]=(0,n.useState)({minutes:"",seconds:""}),[S,P]=(0,n.useState)({days:"",hours:"",minutes:"",seconds:""}),[T,R]=(0,n.useState)(!1),[_,I]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{setTimeout((()=>{p(""),h(""),m(""),g(""),f("")}),5e3)}),[s,u,x,y,j]),(0,n.useEffect)((()=>{(async()=>{try{const a=await fetch("/node-parameter/"),r=await a.json();if(t(r),r.node_parameters){var e,s,n;const t=null===(e=r.node_parameters.find((e=>"retention_parameter"===e.name)))||void 0===e?void 0:e.value;t&&Z(t);const a=null===(s=r.node_parameters.find((e=>"time_delay"===e.name)))||void 0===s?void 0:s.value;a&&k(a);const i=null===(n=r.node_parameters.find((e=>"publish_time"===e.name)))||void 0===n?void 0:n.value;i&&P(i)}}catch(a){console.error("Error fetching data:",a)}})()}),[]),!e)return(0,d.jsx)("p",{children:"Loading..."});const E=e=>{let{message:t}=e;return(0,d.jsx)(a.Z,{severity:"success",children:t})},D=e=>{let{message:t}=e;return(0,d.jsx)(a.Z,{severity:"error",children:t})};return(0,d.jsxs)(r.ZP,{container:!0,spacing:1,children:[(0,d.jsxs)(r.ZP,{item:!0,xs:12,children:[s&&(0,d.jsx)(E,{message:s,onClose:()=>p("")}),u&&(0,d.jsx)(E,{message:u,onClose:()=>h("")}),x&&(0,d.jsx)(E,{message:x,onClose:()=>m("")}),y&&(0,d.jsx)(D,{message:y,onClose:()=>g("")})]}),(0,d.jsx)(r.ZP,{item:!0,xs:4,children:(0,d.jsxs)(i.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"h6",children:"Retention Parameters"}),(0,d.jsxs)("form",{children:[["check_frequency","success_retention","failure_retention"].map(((e,t)=>(0,d.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"subtitle1",children:e.replace("_"," ")}),(0,d.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:["days","hours","minutes","seconds"].map(((t,s)=>(0,d.jsx)(l.Z,{label:t.charAt(0).toUpperCase()+t.slice(1),type:"number",value:v[e][t],onChange:s=>{let n=parseInt(s.target.value,10);const a="hours"===t?24:"minutes"===t||"seconds"===t?60:void 0;void 0!==a&&n>a&&(n=a),((e,t,s)=>{const n=parseInt(s,10);isNaN(n)||Z((s=>({...s,[e]:{...s[e],[t]:n}}))),C(!0)})(e,t,n)},fullWidth:!0,style:{marginRight:"10px"},inputProps:{min:0,max:"minutes"===t||"seconds"===t?60:void 0}},s)))})]},t))),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,d.jsx)(c.Z,{onClick:()=>{Z({check_frequency:{days:0,hours:0,minutes:0,seconds:0},success_retention:{days:0,hours:0,minutes:0,seconds:0},failure_retention:{days:0,hours:0,minutes:0,seconds:0}}),C(!1)},color:"primary",variant:"contained",style:{marginRight:"10px"},children:"Reset"}),(0,d.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/5",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({retention_parameter:v})});C(!1),e.ok?p("Retention Parameters updated successfully."):g("Failed to update Retention Parameters: ".concat(e.statusText))}catch(e){g("Error updating Retention Parameters: ".concat(e))}},color:"primary",variant:"contained",disabled:!b,children:"Submit"})]})]})]})}),(0,d.jsx)(r.ZP,{item:!0,xs:3,children:(0,d.jsxs)(i.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"h6",children:"Time Delay Parameters"}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginRight:"20px"},children:[(0,d.jsx)(l.Z,{label:"Minutes",type:"number",value:w.minutes,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),k((e=>({...e,minutes:t}))),R(!0)},inputProps:{step:1,min:0,max:60}}),(0,d.jsx)(l.Z,{label:"Seconds",type:"number",value:w.seconds,onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),k((e=>({...e,seconds:t}))),R(!0)},inputProps:{step:1,min:0,max:60}})]}),(0,d.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/6",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({time_delay:w})});R(!1),e.ok?h("Time Delay updated successfully."):g("Failed to update Time Delay: ".concat(e.statusText))}catch(e){g("Error updating Time Delay: ".concat(e))}},color:"primary",variant:"contained",style:{marginBottom:"15px"},disabled:!T,children:"Submit"})]})]})}),(0,d.jsx)(r.ZP,{item:!0,xs:5,children:(0,d.jsxs)(i.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,d.jsx)(o.Z,{variant:"h6",children:" Publish Time"}),(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginRight:"20px"},children:[(0,d.jsx)(l.Z,{label:"Days",type:"number",value:S.days,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,31),t=Math.max(t,0),P((e=>({...e,days:t}))),I(!0)},inputProps:{step:1,min:0,max:31}}),(0,d.jsx)(l.Z,{label:"Hours",type:"number",value:S.hours,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,24),t=Math.max(t,0),P((e=>({...e,hours:t}))),I(!0)},inputProps:{step:1,min:0,max:24}}),(0,d.jsx)(l.Z,{label:"Minutes",type:"number",value:S.minutes,style:{marginRight:"5px"},onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),P((e=>({...e,minutes:t}))),I(!0)},inputProps:{step:1,min:0,max:60}}),(0,d.jsx)(l.Z,{label:"Seconds",type:"number",value:S.seconds,onChange:e=>{let t=parseInt(e.target.value)||0;t=Math.min(t,60),t=Math.max(t,0),P((e=>({...e,seconds:t}))),I(!0)},inputProps:{step:1,min:0,max:60}})]}),(0,d.jsx)(c.Z,{onClick:async()=>{try{const e=await fetch("/node-parameter/7",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({publish_time:S})});I(!1),e.ok?m("Publish Time updated successfully."):g("Failed to update Publish Time: ".concat(e.statusText))}catch(e){g("Error updating Publish Time: ".concat(e))}},color:"primary",variant:"contained",style:{marginBottom:"15px"},disabled:!_,children:"Submit"})]})]})})]})}},6964:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var n=s(3009),a=s(9773),r=s(2399),i=s(8769);s.p,s.p,s.p,s.p;var o=s(9982),l=s(3656),c=s(9703),d=s(184);const p=()=>(0,d.jsx)("div",{children:(0,d.jsxs)(n.Z,{children:[(0,d.jsx)(a.Z,{xxl:"12",children:(0,d.jsx)(c.Z,{})}),(0,d.jsx)(a.Z,{xxl:"12",children:(0,d.jsx)(i.Z,{})}),(0,d.jsx)(a.Z,{xxl:"12",children:(0,d.jsx)(r.Z,{})}),(0,d.jsx)(a.Z,{xxl:"12",children:(0,d.jsx)(o.Z,{})}),(0,d.jsx)(a.Z,{xxl:"12",children:(0,d.jsx)(l.Z,{})})]})})}}]);
//# sourceMappingURL=505.55f232f1.chunk.js.map