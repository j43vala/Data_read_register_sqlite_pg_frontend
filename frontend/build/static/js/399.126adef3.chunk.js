"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[399],{2399:(e,t,r)=>{r.d(t,{Z:()=>_});var a=r(2791),n=r(9658),s=r(1889),i=r(4294),l=r(9281),c=r(5527),o=r(9836),d=r(6890),u=r(5855),h=r(3994),x=r(3382),m=r(5289),j=r(5661),v=r(9157),p=r(8096),Z=r(4925),g=r(3926),y=r(9891),f=r(7391),C=r(7123),P=r(3400),b=r(2419),A=r(5585),S=r(9823),k=r(7247),w=r(1286),E=r(7755),T=r(184);const I=(0,E.Z)((e=>({root:{padding:e.spacing(2)},header:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},headerText:{fontFamily:"Arial, sans-serif",fontSize:"18px",fontWeight:"bold",color:"#333",marginRight:e.spacing(2)},buttonGroup:{marginLeft:"auto",display:"flex",alignItems:"center"},addButton:{marginRight:e.spacing(2),backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},deleteButton:{color:e.palette.error.main}}))),_=()=>{const e=I(),[t,r]=(0,a.useState)([]),[E,_]=(0,a.useState)(""),[D,N]=(0,a.useState)([]),[R,F]=(0,a.useState)([]),[W,O]=(0,a.useState)(null),[U,B]=(0,a.useState)(!1),[z,J]=(0,a.useState)(""),[L,V]=(0,a.useState)(""),[H,q]=(0,a.useState)(""),[G,K]=(0,a.useState)(""),[M,Q]=(0,a.useState)(""),[X,Y]=(0,a.useState)(""),[$,ee]=(0,a.useState)(""),[te,re]=(0,a.useState)(""),[ae,ne]=(0,a.useState)(""),[se,ie]=(0,a.useState)(""),[le,ce]=(0,a.useState)(""),[oe,de]=(0,a.useState)(""),[ue,he]=(0,a.useState)(""),[xe,me]=(0,a.useState)(!1),[je,ve]=(0,a.useState)(!1),[pe,Ze]=(0,a.useState)(!1),[ge,ye]=(0,a.useState)(null),[fe,Ce]=(0,a.useState)(null),[Pe,be]=(0,a.useState)(!1),[Ae,Se]=(0,a.useState)(!1),[ke,we]=(0,a.useState)(""),[Ee,Te]=(0,a.useState)(""),[Ie,_e]=(0,a.useState)(!1),[De,Ne]=(0,a.useState)(""),[Re,Fe]=(0,a.useState)(""),[We,Oe]=(0,a.useState)(!1),[Ue,Be]=(0,a.useState)([{function_code:"",address:"",ParameterName:"",data_type:""}]),[ze,Je]=(0,a.useState)([{name:"",value:""}]),[Le,Ve]=(0,a.useState)(null),[He,qe]=(0,a.useState)(!1),[Ge,Ke]=(0,a.useState)(!1),[Me,Qe]=(0,a.useState)([]);(0,a.useEffect)((()=>{setTimeout((()=>{ne(""),ie(""),ce(""),de(""),he("")}),5e3)}),[ae,se,le,oe,ue]),(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("/devices/"),t=await e.json();Array.isArray(t.devices)?r(t.devices):de("No Devices Available.!")}catch(e){de("Error fetching devices: ".concat(e))}})()}),[]);const Xe=async e=>{try{console.log("Fetching device details for deviceId:",e);const t=await fetch("/devices/".concat(encodeURIComponent(e))),r=await t.json();Ke(!0),r.device&&Array.isArray(r.device.parameters)?r.device.parameters.length>0?(N(r.device.parameters),he(""),de("")):(N([]),F([]),de("No Parameters And Attributes connected to the selected device")):(N([]),de("Error fetching Parameters and Attributes or no Parameters and Attributes connected to the selected device")),_(e),r.device&&(we(r.device.name),Te(r.device.slave_id),F(r.device.attributes))}catch(t){console.error("Error fetching Device details:",t),de("Error fetching Device details. Please try again.")}},Ye=e=>{const t=e.target.value;Xe(t)},$e=()=>{B(!1),J(""),V(""),q(""),K("")},et=()=>{_e(!1)},tt=()=>{Oe(!1)},rt=()=>{be(!1)},at=()=>{ee(""),re("")},nt=()=>{me(!1),at()},st=()=>{ve(!1),Be([{function_code:"",address:"",ParameterName:"",data_type:""}]),it()},it=()=>{Be([{function_code:"",address:"",ParameterName:"",data_type:""}])},lt=()=>{console.log("Add Parameter button clicked"),Be([...Ue,{function_code:"",address:"",ParameterName:"",data_type:""}]),ve(!0)},ct=()=>{B(!1),J(""),V(""),q(""),K("")},ot=(e,t,r)=>{const a=[...Ue];a[e][t]=r,Be(a)},dt=()=>{Je([{name:"",value:""}])},ut=()=>{Ze(!1),Je([{name:"",value:""}]),dt()},ht=()=>{console.log("Add Attribute button clicked"),Je([...ze,{name:"",value:""}]),Ze(!0)},xt=(e,t,r)=>{const a=[...ze];a[e][t]=r,Je(a)},mt=()=>{qe(!1),Q(""),Y("")},jt=()=>{Ke(!1)},vt=e=>{let{message:t}=e;return(0,T.jsx)(n.Z,{severity:"success",children:t})},pt=e=>{let{message:t}=e;return(0,T.jsx)(n.Z,{severity:"error",children:t})};return(0,T.jsxs)("div",{className:e.root,children:[(0,T.jsx)("div",{className:e.header,children:(0,T.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,T.jsxs)(s.ZP,{item:!0,xs:10,children:[ae&&(0,T.jsx)(vt,{message:ae,onClose:()=>ne("")}),oe&&(0,T.jsx)(pt,{message:oe,onClose:()=>de("")})]}),(0,T.jsx)(s.ZP,{item:!0,xs:2,container:!0,justifyContent:"flex-end",children:(0,T.jsx)(i.Z,{onClick:()=>{me(!0)},variant:"contained",color:"secondary",children:"Add Device"})}),(0,T.jsx)(s.ZP,{item:!0,xs:12,children:(0,T.jsx)(l.Z,{component:c.Z,children:(0,T.jsxs)(o.Z,{children:[(0,T.jsx)(d.Z,{children:(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(h.Z,{children:"Device Name"}),(0,T.jsx)(h.Z,{children:"Slave ID"}),(0,T.jsx)(h.Z,{children:"Actions"})]})}),(0,T.jsx)(x.Z,{children:t.map((e=>(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(h.Z,{children:e.name}),(0,T.jsx)(h.Z,{children:e.slave_id}),(0,T.jsxs)(h.Z,{children:[(0,T.jsx)(P.Z,{onClick:()=>(e=>{const r=t.find((t=>t.id===e));Ne(r.name),Fe(r.slave_id),_(r),_e(!0)})(e.id),variant:"contained",style:{marginRight:"10px"},children:(0,T.jsx)(w.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,T.jsx)(P.Z,{onClick:()=>((e,t)=>{_(e),we(t),Oe(!0)})(e.id,e.name),variant:"outlined",style:{marginRight:"10px"},children:(0,T.jsx)(k.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,T.jsx)(i.Z,{onClick:()=>Xe(e.id),variant:"contained",color:"primary",style:{marginRight:"10px"},children:"Configuration"})]})]},e.id)))})]})})})]})}),(0,T.jsxs)(m.Z,{open:Ge,onClose:jt,maxWidth:"md",fullWidth:!0,children:[(0,T.jsx)(j.Z,{children:ke}),(0,T.jsx)(P.Z,{onClick:jt,color:"inherit",style:{position:"absolute",right:8,top:8},children:(0,T.jsx)(S.Z,{})}),(0,T.jsxs)(v.Z,{children:[(0,T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(j.Z,{children:"Parameter"}),(0,T.jsx)(i.Z,{onClick:()=>{ve(!0)},variant:"contained",color:"secondary",style:{marginBottom:"10px"},children:"Add"})]}),se&&(0,T.jsx)(vt,{message:se,onClose:()=>ie("")}),oe&&(0,T.jsx)(pt,{message:oe,onClose:()=>de("")}),(0,T.jsx)(l.Z,{component:c.Z,children:(0,T.jsxs)(o.Z,{children:[(0,T.jsx)(d.Z,{children:(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(h.Z,{children:"Function Code"}),(0,T.jsx)(h.Z,{children:"Address"}),(0,T.jsx)(h.Z,{children:"Parameter Name"}),(0,T.jsx)(h.Z,{children:"Data Type"}),(0,T.jsx)(h.Z,{children:"Actions"})]})}),(0,T.jsx)(x.Z,{children:D.map((e=>(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(h.Z,{children:e.function_code}),(0,T.jsx)(h.Z,{children:e.address}),(0,T.jsx)(h.Z,{children:e.parameter_name}),(0,T.jsx)(h.Z,{children:e.data_type}),(0,T.jsxs)(h.Z,{children:[(0,T.jsx)(P.Z,{onClick:()=>(e=>{O(e),J(e.function_code),V(e.address),q(e.parameter_name),K(e.data_type),B(!0)})(e),variant:"contained",style:{marginRight:"10px"},children:(0,T.jsx)(w.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,T.jsx)(P.Z,{onClick:()=>(e=>{O(e),be(!0)})(e),variant:"contained",children:(0,T.jsx)(k.Z,{style:{color:"gray",fontSize:"medium"}})})]})]},e.id)))})]})}),(0,T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(j.Z,{style:{marginTop:"30px"},children:"Attribute"}),(0,T.jsx)(i.Z,{onClick:()=>{Ze(!0)},variant:"contained",color:"secondary",style:{marginTop:"30px"},children:"Add"})]}),le&&(0,T.jsx)(vt,{message:le,onClose:()=>ce("")}),(0,T.jsx)(l.Z,{component:c.Z,style:{marginTop:"10px"},children:(0,T.jsxs)(o.Z,{children:[(0,T.jsx)(d.Z,{children:(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(h.Z,{children:"Attribute Name"}),(0,T.jsx)(h.Z,{children:"Attribute Value"}),(0,T.jsx)(h.Z,{children:"Actions"})]})}),(0,T.jsx)(x.Z,{children:R.map((e=>(0,T.jsxs)(u.Z,{children:[(0,T.jsx)(h.Z,{children:e.name}),(0,T.jsx)(h.Z,{children:e.value}),(0,T.jsxs)(h.Z,{children:[(0,T.jsx)(P.Z,{onClick:()=>(e=>{Ve(e),Q(e.name),Y(e.value),qe(!0)})(e),variant:"contained",style:{marginRight:"10px"},children:(0,T.jsx)(w.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,T.jsx)(P.Z,{onClick:()=>(e=>{Ve(e),Se(!0)})(e),variant:"contained",children:(0,T.jsx)(k.Z,{style:{color:"gray",fontSize:"medium"}})})]})]},e.id)))})]})})]})]}),(0,T.jsxs)(m.Z,{open:U,onClose:ct,children:[(0,T.jsx)(j.Z,{style:{color:"#008080"},children:"Update Parameter"}),(0,T.jsx)(v.Z,{children:(0,T.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(s.ZP,{item:!0,xs:6,children:(0,T.jsxs)(p.Z,{fullWidth:!0,children:[(0,T.jsx)(Z.Z,{style:{marginTop:"10px"},children:"Function Code"}),(0,T.jsxs)(g.Z,{value:z,style:{marginTop:"10px"},onChange:e=>J(e.target.value),children:[(0,T.jsx)(y.Z,{value:"Coil Status",children:"Coil Status"}),(0,T.jsx)(y.Z,{value:"Input Status",children:"Input Status"}),(0,T.jsx)(y.Z,{value:"Holding Register",children:"Holding Register"}),(0,T.jsx)(y.Z,{value:"Input Register",children:"Input Register"})]})]})}),(0,T.jsx)(s.ZP,{item:!0,xs:6,children:(0,T.jsx)(f.Z,{label:"Address",value:L,style:{marginTop:"10px"},onChange:e=>V(e.target.value),fullWidth:!0})}),(0,T.jsx)(s.ZP,{item:!0,xs:6,children:(0,T.jsx)(f.Z,{label:"Parameter Name",value:H,onChange:e=>q(e.target.value),fullWidth:!0})}),(0,T.jsx)(s.ZP,{item:!0,xs:6,children:(0,T.jsxs)(p.Z,{fullWidth:!0,children:[(0,T.jsx)(Z.Z,{children:"Data Type"}),(0,T.jsxs)(g.Z,{value:G,onChange:e=>K(e.target.value),children:[(0,T.jsx)(y.Z,{value:"Integer",children:"Integer"}),(0,T.jsx)(y.Z,{value:"Float",children:"Float"}),(0,T.jsx)(y.Z,{value:"Double",children:"Double"}),(0,T.jsx)(y.Z,{value:"Boolean",children:"Boolean"})]})]})})]})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:ct,variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:async()=>{if(!W||!W.id)return void de("No Parameter selected for update");if(!Number.isInteger(parseInt(L,10)))return de("Please Insert Only Integer Values in the Address field!"),void $e();const e={function_code:z,address:L,parameter_name:H,data_type:G};try{const t=await fetch("/parameter/devices/".concat(E,"/parameter/").concat(W.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update Parameter: ".concat(t.statusText));Ye({target:{value:E}}),it(),$e(),ie("Parameter updated successfully!")}catch(t){console.error("Error updating Parameter:",t),it(),$e(),de("Error updating Parameter. ".concat(t.message))}},variant:"contained",color:"primary",children:"Update"})]})]}),(0,T.jsxs)(m.Z,{open:Pe,onClose:rt,children:[(0,T.jsx)(j.Z,{children:"Delete Parameter"}),(0,T.jsx)(v.Z,{children:(0,T.jsx)("p",{children:"Are you sure you want to delete this Parameter?"})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:()=>{be(!1),ye(null)},variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:()=>(async e=>{be(!1);try{if(E&&e&&e.id){const t=await fetch("/parameter/devices/".concat(E,"/parameter/").concat(e.id),{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete parameter: ".concat(t.statusText));ie("Parameter deleted successfully!"),de("");const a=await fetch("/devices/".concat(E)),n=await a.json();n.device&&Array.isArray(n.device.parameters)?N(n.device.parameters):N([]);const s=await fetch("/devices/"),i=await s.json();Array.isArray(i.devices)?r(i.devices):console.error("Invalid response format for devices:",i)}}catch(t){console.error("Error deleting Parameter:",t),de("Error deleting Parameter. ".concat(t.message))}finally{B(!1),O(null)}})(W),variant:"contained",color:"error",children:"Delete"})]})]}),(0,T.jsxs)(m.Z,{open:He,onClose:mt,children:[(0,T.jsx)(j.Z,{style:{color:"#008080"},children:"Update Attribute"}),(0,T.jsx)(v.Z,{children:(0,T.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,T.jsx)(s.ZP,{item:!0,xs:6,children:(0,T.jsx)(f.Z,{label:"Name",value:M,onChange:e=>Q(e.target.value),fullWidth:!0})}),(0,T.jsx)(s.ZP,{item:!0,xs:6,children:(0,T.jsx)(f.Z,{label:"Value",value:X,onChange:e=>Y(e.target.value),fullWidth:!0})})]})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:mt,variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:async()=>{if(!Le||!Le.id||!E)return void console.error("No Attribute or Device selected for update");const e={name:M,value:X};try{const t=await fetch("/attribute/devices/".concat(E,"/attribute/").concat(Le.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update Attribute: ".concat(t.statusText));Ye({target:{value:E}}),mt(),dt(),ce("Attribute updated successfully!")}catch(t){console.error("Error updating Attribute:",t),de("Error updating Attribute. ".concat(t.message)),dt(),mt()}},variant:"contained",color:"primary",children:"Update"})]})]}),(0,T.jsxs)(m.Z,{open:Ae,onClose:rt,children:[(0,T.jsx)(j.Z,{children:"Delete Attribute"}),(0,T.jsx)(v.Z,{children:(0,T.jsx)("p",{children:"Are you sure you want to delete this Attribute?"})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:()=>{Se(!1),Ce(null)},variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:()=>(async e=>{be(!1);try{if(E&&e&&e.id){const t=await fetch("/attribute/devices/".concat(E,"/attribute/").concat(e.id),{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete Attribute: ".concat(t.statusText));ce("Attribute deleted successfully!"),de("");const a=await fetch("/devices/".concat(E)),n=await a.json();n.device&&Array.isArray(n.device.attributes)?F(n.device.attributes):F([]);const s=await fetch("/devices/"),i=await s.json();Array.isArray(i.devices)?r(i.devices):console.error("Invalid response format for devices:",i)}}catch(t){console.error("Error deleting Attribute:",t),de("Error deleting Attribute. ".concat(t.message))}finally{Se(!1),qe(!1),Ve(null)}})(Le),variant:"contained",color:"error",children:"Delete"})]})]}),(0,T.jsxs)(m.Z,{open:Ie,onClose:et,children:[(0,T.jsx)(j.Z,{children:"Update Device"}),(0,T.jsx)(v.Z,{children:E&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(f.Z,{label:"Device Name",value:De,style:{marginTop:"5px",marginRight:"5px"},onChange:e=>Ne(e.target.value)}),(0,T.jsx)(f.Z,{label:"Slave ID",value:Re,style:{marginTop:"5px"},onChange:e=>Fe(e.target.value)})]})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:et,variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:async()=>{try{const e={name:De,slave_id:Re};await fetch("/devices/".concat(E.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});const t=await fetch("/devices/"),a=await t.json();Array.isArray(a.devices)?(we(De),Te(Re),r(a.devices),ne("Device updated successfully!")):console.error("Invalid response format for devices:",a)}catch(e){console.error("Error updating device:",e),de("Error updating device. Please try again.")}finally{_e(!1)}},variant:"contained",color:"primary",children:"Update"})]})]}),(0,T.jsxs)(m.Z,{open:We,onClose:tt,children:[(0,T.jsx)(j.Z,{children:"Delete Device"}),(0,T.jsx)(v.Z,{children:(0,T.jsxs)("p",{children:['Are you sure you want to delete "',ke,'"?']})}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:tt,variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:()=>(async e=>{try{await fetch("/devices/".concat(e),{method:"DELETE"});const t=await fetch("/devices/"),a=await t.json();Array.isArray(a.devices)?(r(a.devices),N([]),F([]),_(null),we(""),Te("")):console.error("Invalid response format for devices:",a),ne("Device deleted successfully!")}catch(t){console.error("Error deleting device:",t),de("Error deleting device. Please try again.")}finally{Oe(!1),B(!1),O(null),Ve(null)}})(E),variant:"contained",color:"error",children:"Delete"})]})]}),(0,T.jsxs)(m.Z,{open:xe,onClose:nt,children:[(0,T.jsx)(j.Z,{children:"Add Device"}),(0,T.jsxs)(v.Z,{children:[(0,T.jsx)(f.Z,{label:"Device Name",value:$,onChange:e=>ee(e.target.value),style:{marginRight:"5px",marginTop:"5px"}}),(0,T.jsx)(f.Z,{label:"Slave ID",value:te,style:{marginTop:"5px"},onChange:e=>re(e.target.value)})]}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:nt,variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:async()=>{if($&&te){const t={name:$,slave_id:te};try{if(!(await fetch("/devices/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Network response was not ok");ne("Device created successfully!"),at(),me(!1);const e=await fetch("/devices/"),a=await e.json();Array.isArray(a.devices)?r(a.devices):(de("Invalid response format for devices: ".concat(a)),at(),me(!1))}catch(e){console.error("Error creating device:",e),de("Error creating device. Please try again."),at(),me(!1)}}else de("Both device name and slave ID are required"),at(),me(!1)},variant:"contained",children:"Create Device"})]})]}),(0,T.jsxs)(m.Z,{open:je,onClose:st,children:[(0,T.jsx)(j.Z,{children:"Add Parameter"}),(0,T.jsx)(v.Z,{children:Ue.map(((e,t)=>(0,T.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,T.jsx)(s.ZP,{item:!0,xs:2,children:(0,T.jsxs)(p.Z,{fullWidth:!0,children:[(0,T.jsx)(Z.Z,{style:{minWidth:"120px",marginTop:"5px"},children:"Function Code"}),(0,T.jsxs)(g.Z,{value:e.function_code||"",style:{marginTop:"10px",minWidth:"150px"},onChange:e=>ot(t,"function_code",e.target.value),children:[(0,T.jsx)(y.Z,{value:"Coil Status",children:"Coil Status"}),(0,T.jsx)(y.Z,{value:"Input Status",children:"Input Status"}),(0,T.jsx)(y.Z,{value:"Holding Register",children:"Holding Register"}),(0,T.jsx)(y.Z,{value:"Input Register",children:"Input Register"})]})]})}),(0,T.jsx)(s.ZP,{item:!0,xs:4,children:(0,T.jsx)(f.Z,{label:"Address",value:e.address,style:{marginLeft:"70px",marginTop:"10px"},onChange:e=>ot(t,"address",e.target.value)})}),(0,T.jsx)(s.ZP,{item:!0,xs:3,children:(0,T.jsx)(f.Z,{label:"Parameter Name",value:e.ParameterName,style:{marginTop:"10px"},onChange:e=>ot(t,"ParameterName",e.target.value)})}),(0,T.jsx)(s.ZP,{item:!0,xs:2,children:(0,T.jsxs)(p.Z,{fullWidth:!0,children:[(0,T.jsx)(Z.Z,{style:{minWidth:"80px",marginTop:"5px"},children:"Data Type"}),(0,T.jsxs)(g.Z,{value:e.data_type,style:{marginTop:"10px",minWidth:"100px"},onChange:e=>ot(t,"data_type",e.target.value),children:[(0,T.jsx)(y.Z,{value:"Integer",children:"Integer"}),(0,T.jsx)(y.Z,{value:"Float",children:"Float"}),(0,T.jsx)(y.Z,{value:"Double",children:"Double"}),(0,T.jsx)(y.Z,{value:"Boolean",children:"Boolean"})]})]})}),(0,T.jsx)(s.ZP,{item:!0,xs:1,children:0!==t&&(0,T.jsx)(P.Z,{onClick:()=>(e=>{const t=[...Ue];t.splice(e,1),Be(t)})(t),children:(0,T.jsx)(A.Z,{style:{color:"red"}})})}),(0,T.jsx)(s.ZP,{item:!0,xs:2,children:t===Ue.length-1&&(0,T.jsx)(P.Z,{onClick:lt,children:(0,T.jsx)(b.Z,{style:{color:"green"}})})})]},t)))}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:st,variant:"outlined",color:"secondary",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:()=>{if(!E)return de("Please select a device!"),void ve(!1);if(Ue.some((e=>!e.function_code||!e.address||!e.ParameterName||!e.data_type)))return de("Please fill in all the required fields for each parameter!"),ve(!1),void it();if(Ue.some((e=>!Number.isInteger(parseInt(e.address,10)))))return de("Please Enter Only Integer Values in the Address Field!"),it(),void ve(!1);const e={parameters:Ue.map((e=>({active:!0,function_code:e.function_code,address:e.address,parameter_name:e.ParameterName,data_type:e.data_type})))};fetch("/parameter/devices/".concat(E,"/parameter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("One or more parameters failed to create.");return e.json()})).then((e=>{console.log("API Response Data:",e),e.created_parameters?(Qe([...Me,...e.created_parameters]),ie("Parameters created successfully!"),it(),ve(!1),Ye({target:{value:E}})):(console.error("Unexpected response format:",e),de("Error creating Parameters. Please try again."),it(),ve(!1))})).catch((e=>{console.error("Error creating Parameters:",e),de("Error creating Parameters. Please try again."),it(),ve(!1)}))},variant:"contained",color:"primary",children:"Create Parameter"})]})]}),(0,T.jsxs)(m.Z,{open:pe,onClose:ut,children:[(0,T.jsx)(j.Z,{children:"Add Attribute"}),(0,T.jsx)(v.Z,{children:ze.map(((e,t)=>(0,T.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,T.jsx)(s.ZP,{item:!0,xs:3,children:(0,T.jsx)(f.Z,{label:"Name",value:e.name,style:{marginTop:"7px"},onChange:e=>xt(t,"name",e.target.value)})}),(0,T.jsx)(s.ZP,{item:!0,xs:3,children:(0,T.jsx)(f.Z,{label:"Value",value:e.value,style:{marginTop:"7px"},onChange:e=>xt(t,"value",e.target.value)})}),(0,T.jsx)(s.ZP,{item:!0,xs:1,children:0!==t&&(0,T.jsx)(P.Z,{onClick:()=>(e=>{const t=[...ze];t.splice(e,1),Je(t)})(t),children:(0,T.jsx)(A.Z,{style:{color:"red"}})})}),(0,T.jsx)(s.ZP,{item:!0,xs:1,children:t===ze.length-1&&(0,T.jsx)(P.Z,{onClick:ht,children:(0,T.jsx)(b.Z,{style:{color:"green"}})})})]},t)))}),(0,T.jsxs)(C.Z,{children:[(0,T.jsx)(i.Z,{onClick:ut,variant:"outlined",color:"error",children:"Cancel"}),(0,T.jsx)(i.Z,{onClick:()=>{if(!E)return void de("Please select a device!");if(ze.some((e=>!e.name||!e.value)))return de("Please fill in all the required fields for each attribute!"),void dt();const e={attributes:ze.map((e=>({name:e.name,value:e.value})))};fetch("/attribute/devices/".concat(E,"/attribute"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("One or more attributes failed to create.")})).then((()=>{ce("Attributes created successfully!"),dt(),Ze(!1),Ye({target:{value:E}})})).catch((e=>{console.error("Error creating Attributes:",e),de("Error creating Attributes. Please try again."),dt(),Ze(!1)}))},variant:"contained",children:"Create Attribute"})]})]})]})}}}]);
//# sourceMappingURL=399.126adef3.chunk.js.map