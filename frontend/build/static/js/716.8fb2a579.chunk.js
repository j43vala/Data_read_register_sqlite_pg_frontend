"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[716],{8769:(e,t,r)=>{r.d(t,{Z:()=>j});var o=r(2791),n=r(1889),a=r(5527),s=r(890),l=r(4294),i=r(8096),d=r(4925),c=r(3926),u=r(9891),p=r(5289),h=r(5661),x=r(9157),v=r(7391),m=r(7123),g=r(184);const f="http://localhost:5000/node-parameter/",j=()=>{var e,t,r,j;const[b,y]=(0,o.useState)(null),[Z,_]=(0,o.useState)(!1),[C,w]=(0,o.useState)(!1),[O,P]=(0,o.useState)(!1),[k,S]=(0,o.useState)({port:"",method:"",parity:"",baudrate:"",stopbits:"",wordLength:""}),[N,T]=(0,o.useState)(""),[E,B]=(0,o.useState)(""),[M,U]=(0,o.useState)(""),[L,W]=(0,o.useState)(""),[q,A]=(0,o.useState)(""),[D,I]=(0,o.useState)("");if((0,o.useEffect)((()=>{(async()=>{try{const t=await fetch("".concat(f)),r=await t.json();if(y(r),r.node_parameters){var e;const t=null===(e=r.node_parameters.find((e=>"modbus"===e.name)))||void 0===e?void 0:e.value;t&&S(t)}}catch(t){console.error("Error fetching data:",t)}})()}),[]),!b)return(0,g.jsx)("p",{children:"Loading..."});const G=null===(e=b.node_parameters.find((e=>"spb_parameter"===e.name)))||void 0===e?void 0:e.value,J=null===(t=b.node_parameters.find((e=>"node_attributes"===e.name)))||void 0===t?void 0:t.value,z=null===(r=b.node_parameters.find((e=>"mqtt"===e.name)))||void 0===r?void 0:r.value,F=(null===(j=b.node_parameters.find((e=>"modbus"===e.name)))||void 0===j||j.value,[...new Set([110,300,600,1200,2400,4800,9600,14400,19200,38400,57600,115200,128e3,256e3])]),H=[...new Set([7,8])],V=[...new Set(["ODD","EVEN","NONE"])],K=[...new Set([1,2])],Q=()=>{_(!1),w(!1),P(!1)};return(0,g.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,g.jsx)(n.ZP,{item:!0,xs:6,children:(0,g.jsxs)(a.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,g.jsx)(s.Z,{variant:"h6",children:"SPB Parameter"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Edge Node Id:"})," ",null===G||void 0===G?void 0:G.edge_node_id]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Group Id:"})," ",null===G||void 0===G?void 0:G.group_id]}),(0,g.jsx)(l.Z,{variant:"outlined",onClick:()=>{T((null===G||void 0===G?void 0:G.edge_node_id)||""),B((null===G||void 0===G?void 0:G.group_id)||""),_(!0)},children:"Update"})]})}),(0,g.jsx)(n.ZP,{item:!0,xs:6,children:(0,g.jsxs)(a.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,g.jsx)(s.Z,{variant:"h6",children:"Node Attributes"}),(0,g.jsxs)("div",{style:{marginTop:"1px"},children:["object"===typeof J&&Object.entries(J).map((e=>{let[t,r]=e;return(0,g.jsx)("div",{children:(0,g.jsxs)(s.Z,{variant:"body1",children:[(0,g.jsxs)("strong",{children:[t,":"]})," ","object"===typeof r?JSON.stringify(r):r]})},t)})),(0,g.jsx)(l.Z,{variant:"outlined",onClick:()=>{U((null===J||void 0===J?void 0:J.description)||""),W((null===J||void 0===J?void 0:J.version)||""),w(!0)},children:"Update"})]})]})}),(0,g.jsx)(n.ZP,{item:!0,xs:12,children:(0,g.jsxs)(a.Z,{style:{padding:"20px",marginBottom:"20px"},children:[(0,g.jsx)(s.Z,{variant:"h6",children:"MQTT"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Broker Host:"})," ",null===z||void 0===z?void 0:z.broker_host]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("strong",{children:"Broker Port:"})," ",null===z||void 0===z?void 0:z.broker_port]}),(0,g.jsx)(l.Z,{variant:"outlined",onClick:()=>{A((null===z||void 0===z?void 0:z.broker_host)||""),I((null===z||void 0===z?void 0:z.broker_port)||""),P(!0)},children:"Update"})]})}),(0,g.jsx)(n.ZP,{item:!0,xs:12,children:(0,g.jsxs)(a.Z,{style:{padding:"20px"},children:[(0,g.jsx)(s.Z,{variant:"h6",children:"Modbus Parameters"}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:["Port","Method","Parity","Baudrate","Stopbits","WordLength"].map(((e,t)=>(0,g.jsx)("div",{style:{marginRight:"20px"},children:(0,g.jsxs)(i.Z,{fullWidth:!0,children:[(0,g.jsx)(d.Z,{children:e}),(0,g.jsxs)(c.Z,{value:k[e.toLowerCase()],onChange:t=>(async(e,t)=>{S((r=>({...r,[e]:t})));const r={modbus:{...k,[e]:t}};try{const e=await fetch("http://localhost:5000/node-parameter/1",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});e.ok?console.log("Node Parameter updated successfully."):console.error("Failed to update Node Parameter:",e.statusText)}catch(o){console.error("Error updating Node Parameter:",o)}})(e.toLowerCase(),t.target.value),children:["Baudrate"===e&&F.map((e=>(0,g.jsx)(u.Z,{value:e,children:e},e))),"WordLength"===e&&H.map((e=>(0,g.jsx)(u.Z,{value:e,children:e},e))),"Parity"===e&&V.map((e=>(0,g.jsx)(u.Z,{value:e,children:e},e))),"Stopbits"===e&&K.map((e=>(0,g.jsx)(u.Z,{value:e,children:e},e))),("port"===e.toLowerCase()||"method"===e.toLowerCase())&&(0,g.jsx)(u.Z,{value:k[e.toLowerCase()],children:k[e.toLowerCase()]},k[e.toLowerCase()])]})]})},t)))})]})}),(0,g.jsxs)(p.Z,{open:Z,onClose:Q,children:[(0,g.jsx)(h.Z,{children:"Update SPB Parameter"}),(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(v.Z,{label:"Edge Node ID",value:N,onChange:e=>T(e.target.value),fullWidth:!0}),(0,g.jsx)(v.Z,{label:"Group ID",value:E,onChange:e=>B(e.target.value),fullWidth:!0})]}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(l.Z,{onClick:Q,children:"Cancel"}),(0,g.jsx)(l.Z,{onClick:async()=>{const e={spb_parameter:{edge_node_id:N,group_id:E}};try{const t=await fetch("".concat(f,"3"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok?(console.log("SPB Parameter updated successfully."),y((e=>{const t=e.node_parameters.map((e=>"spb_parameter"===e.name?{...e,value:{edge_node_id:N,group_id:E}}:e));return{...e,node_parameters:t}}))):console.error("Failed to update SPB Parameter:",t.statusText)}catch(t){console.error("Error updating SPB Parameter:",t)}Q()},color:"primary",children:"Update"})]})]}),(0,g.jsxs)(p.Z,{open:C,onClose:Q,children:[(0,g.jsx)(h.Z,{children:"Update Node Attribute"}),(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(v.Z,{label:"Description",value:M,onChange:e=>U(e.target.value),fullWidth:!0}),(0,g.jsx)(v.Z,{label:"Value",value:L,onChange:e=>W(e.target.value),fullWidth:!0})]}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(l.Z,{onClick:Q,children:"Cancel"}),(0,g.jsx)(l.Z,{onClick:async()=>{const e={node_attribute:{description:M,version:L}};try{const t=await fetch("".concat(f,"4"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok?(y((e=>({...e,node_parameters:e.node_parameters.map((e=>"node_attributes"===e.name?{...e,value:{description:M,version:L}}:e))}))),console.log("Node Attribute updated successfully.")):console.error("Failed to update Node Attribute:",t.statusText)}catch(t){console.error("Error updating Node Attribute:",t)}Q()},color:"primary",children:"Update"})]})]}),(0,g.jsxs)(p.Z,{open:O,onClose:Q,children:[(0,g.jsx)(h.Z,{children:"Update Mqtt"}),(0,g.jsxs)(x.Z,{children:[(0,g.jsx)(v.Z,{label:"Broker Host",value:q,onChange:e=>A(e.target.value),fullWidth:!0}),(0,g.jsx)(v.Z,{label:"Broker Port",value:D,onChange:e=>I(e.target.value),fullWidth:!0})]}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(l.Z,{onClick:Q,children:"Cancel"}),(0,g.jsx)(l.Z,{onClick:async()=>{const e={mqtt:{broker_host:q,broker_port:D}};try{const t=await fetch("".concat(f,"2"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok?(console.log("Mqtt updated successfully."),y((e=>{const t=e.node_parameters.map((e=>"mqtt"===e.name?{...e,value:{broker_host:q,broker_port:D}}:e));return{...e,node_parameters:t}}))):console.error("Failed to update Mqtt:",t.statusText)}catch(t){console.error("Error updating Mqtt:",t)}Q()},color:"primary",children:"Update"})]})]})]})}},6413:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var o=r(3009),n=r(9773),a=r(2399),s=r(8769);r.p,r.p,r.p,r.p;var l=r(184);const i=()=>(0,l.jsx)("div",{children:(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(n.Z,{xxl:"12",children:(0,l.jsx)(s.Z,{})}),(0,l.jsx)(n.Z,{xxl:"11",children:(0,l.jsx)(a.Z,{})})]})})},9773:(e,t,r)=>{r.d(t,{Z:()=>j});var o=r(2791),n=r(2007),a=r.n(n),s=r(1694),l=r.n(s),i=r(9622),d=["className","cssModule","widths","tag"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=["xs","sm","md","lg","xl","xxl"],x=a().oneOfType([a().number,a().string]),v=a().oneOfType([a().bool,a().number,a().string,a().shape({size:a().oneOfType([a().bool,a().number,a().string]),order:x,offset:x})]),m={tag:i.iC,xs:v,sm:v,md:v,lg:v,xl:v,xxl:v,className:a().string,cssModule:a().object,widths:a().array},g=function(e,t,r){return!0===r||""===r?e?"col":"col-".concat(t):"auto"===r?e?"col-auto":"col-".concat(t,"-auto"):e?"col-".concat(r):"col-".concat(t,"-").concat(r)};function f(e){var t=e.className,r=e.cssModule,n=e.widths,a=void 0===n?h:n,s=e.tag,x=void 0===s?"div":s,v=function(e,t){var r=e,o=[];return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:h).forEach((function(e,n){var a=r[e];if(delete r[e],a||""===a){var s=!n;if((0,i.Kn)(a)){var d,c=s?"-":"-".concat(e,"-"),u=g(s,e,a.size);o.push((0,i.mx)(l()((p(d={},u,a.size||""===a.size),p(d,"order".concat(c).concat(a.order),a.order||0===a.order),p(d,"offset".concat(c).concat(a.offset),a.offset||0===a.offset),d)),t))}else{var h=g(s,e,a);o.push(h)}}})),{colClasses:o,modifiedAttributes:r}}(u(e,d),r,a),m=v.modifiedAttributes,f=v.colClasses;f.length||f.push("col");var j=(0,i.mx)(l()(t,f),r);return o.createElement(x,c({},m,{className:j}))}f.propTypes=m;const j=f},3009:(e,t,r)=>{r.d(t,{Z:()=>m});var o=r(2791),n=r(2007),a=r.n(n),s=r(1694),l=r.n(s),i=r(9622),d=["className","cssModule","noGutters","tag","widths"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=["xs","sm","md","lg","xl","xxl"],h=a().oneOfType([a().number,a().string]),x={tag:i.iC,noGutters:(0,i.x9)(a().bool,"Please use Bootstrap 5 gutter utility classes. https://getbootstrap.com/docs/5.0/layout/gutters/"),className:a().string,cssModule:a().object,xs:h,sm:h,md:h,lg:h,xl:h,xxl:h,widths:a().array};function v(e){var t=e.className,r=e.cssModule,n=e.noGutters,a=e.tag,s=void 0===a?"div":a,h=e.widths,x=void 0===h?p:h,v=u(e,d),m=[];x.forEach((function(t,r){var o=e[t];if(delete v[t],o){var n=!r;m.push(n?"row-cols-".concat(o):"row-cols-".concat(t,"-").concat(o))}}));var g=(0,i.mx)(l()(t,n?"gx-0":null,"row",m),r);return o.createElement(s,c({},v,{className:g}))}v.propTypes=x;const m=v}}]);
//# sourceMappingURL=716.8fb2a579.chunk.js.map