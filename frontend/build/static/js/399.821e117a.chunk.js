"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[399],{2399:(e,t,r)=>{r.d(t,{Z:()=>N});var a=r(2791),n=r(9658),s=r(1889),i=r(4294),c=r(9281),l=r(5527),o=r(9836),d=r(6890),h=r(5855),u=r(3994),x=r(3382),m=r(5289),j=r(5661),v=r(9157),p=r(8096),Z=r(4925),g=r(3926),y=r(9891),f=r(7391),C=r(7123),P=r(3400),b=r(2419),A=r(5585),S=r(9823),k=r(7247),w=r(1286),E=r(7755),T=r(5101),I=r(184);const _=(0,E.Z)((e=>({root:{padding:e.spacing(2)},header:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},headerText:{fontFamily:"Arial, sans-serif",fontSize:"18px",fontWeight:"bold",color:"#333",marginRight:e.spacing(2)},buttonGroup:{marginLeft:"auto",display:"flex",alignItems:"center"},addButton:{marginRight:e.spacing(2),backgroundColor:e.palette.success.main,color:"#fff","&:hover":{backgroundColor:e.palette.success.dark}},deleteButton:{color:e.palette.error.main}}))),D=T.Z.backendUrl,N=()=>{const e=_(),[t,r]=(0,a.useState)([]),[E,T]=(0,a.useState)(""),[N,R]=(0,a.useState)([]),[F,W]=(0,a.useState)([]),[O,U]=(0,a.useState)(null),[B,z]=(0,a.useState)(!1),[J,L]=(0,a.useState)(""),[V,H]=(0,a.useState)(""),[q,G]=(0,a.useState)(""),[K,M]=(0,a.useState)(""),[Q,X]=(0,a.useState)(""),[Y,$]=(0,a.useState)(""),[ee,te]=(0,a.useState)(""),[re,ae]=(0,a.useState)(""),[ne,se]=(0,a.useState)(""),[ie,ce]=(0,a.useState)(""),[le,oe]=(0,a.useState)(""),[de,he]=(0,a.useState)(""),[ue,xe]=(0,a.useState)(""),[me,je]=(0,a.useState)(!1),[ve,pe]=(0,a.useState)(!1),[Ze,ge]=(0,a.useState)(!1),[ye,fe]=(0,a.useState)(null),[Ce,Pe]=(0,a.useState)(null),[be,Ae]=(0,a.useState)(!1),[Se,ke]=(0,a.useState)(!1),[we,Ee]=(0,a.useState)(""),[Te,Ie]=(0,a.useState)(""),[_e,De]=(0,a.useState)(!1),[Ne,Re]=(0,a.useState)(""),[Fe,We]=(0,a.useState)(""),[Oe,Ue]=(0,a.useState)(!1),[Be,ze]=(0,a.useState)([{function_code:"",address:"",ParameterName:"",data_type:""}]),[Je,Le]=(0,a.useState)([{name:"",value:""}]),[Ve,He]=(0,a.useState)(null),[qe,Ge]=(0,a.useState)(!1),[Ke,Me]=(0,a.useState)(!1),[Qe,Xe]=(0,a.useState)([]);(0,a.useEffect)((()=>{setTimeout((()=>{se(""),ce(""),oe(""),he(""),xe("")}),5e3)}),[ne,ie,le,de,ue]),(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("".concat(D,"/devices/")),t=await e.json();Array.isArray(t.devices)?r(t.devices):he("No Devices Available.!")}catch(e){he("Error fetching devices: ".concat(e))}})()}),[]);const Ye=async e=>{try{console.log("Fetching device details for deviceId:",e);const t=await fetch("".concat(D,"/devices/").concat(encodeURIComponent(e))),r=await t.json();Me(!0),r.device&&Array.isArray(r.device.parameters)?r.device.parameters.length>0?(R(r.device.parameters),xe(""),he("")):(R([]),W([]),he("No Parameters And Attributes connected to the selected device")):(R([]),he("Error fetching Parameters and Attributes or no Parameters and Attributes connected to the selected device")),T(e),r.device&&(Ee(r.device.name),Ie(r.device.slave_id),W(r.device.attributes))}catch(t){console.error("Error fetching Device details:",t),he("Error fetching Device details. Please try again.")}},$e=e=>{const t=e.target.value;Ye(t)},et=()=>{z(!1),L(""),H(""),G(""),M("")},tt=()=>{De(!1)},rt=()=>{Ue(!1)},at=()=>{Ae(!1)},nt=()=>{te(""),ae("")},st=()=>{je(!1),nt()},it=()=>{pe(!1),ze([{function_code:"",address:"",ParameterName:"",data_type:""}]),ct()},ct=()=>{ze([{function_code:"",address:"",ParameterName:"",data_type:""}])},lt=()=>{console.log("Add Parameter button clicked"),ze([...Be,{function_code:"",address:"",ParameterName:"",data_type:""}]),pe(!0)},ot=()=>{z(!1),L(""),H(""),G(""),M("")},dt=(e,t,r)=>{const a=[...Be];a[e][t]=r,ze(a)},ht=()=>{Le([{name:"",value:""}])},ut=()=>{ge(!1),Le([{name:"",value:""}]),ht()},xt=()=>{console.log("Add Attribute button clicked"),Le([...Je,{name:"",value:""}]),ge(!0)},mt=(e,t,r)=>{const a=[...Je];a[e][t]=r,Le(a)},jt=()=>{Ge(!1),X(""),$("")},vt=()=>{Me(!1)},pt=e=>{let{message:t}=e;return(0,I.jsx)(n.Z,{severity:"success",children:t})},Zt=e=>{let{message:t}=e;return(0,I.jsx)(n.Z,{severity:"error",children:t})};return(0,I.jsxs)("div",{className:e.root,children:[(0,I.jsx)("div",{className:e.header,children:(0,I.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,I.jsxs)(s.ZP,{item:!0,xs:10,children:[ne&&(0,I.jsx)(pt,{message:ne,onClose:()=>se("")}),de&&(0,I.jsx)(Zt,{message:de,onClose:()=>he("")})]}),(0,I.jsx)(s.ZP,{item:!0,xs:2,container:!0,justifyContent:"flex-end",children:(0,I.jsx)(i.Z,{onClick:()=>{je(!0)},variant:"contained",color:"secondary",children:"Add Device"})}),(0,I.jsx)(s.ZP,{item:!0,xs:12,children:(0,I.jsx)(c.Z,{component:l.Z,children:(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(d.Z,{children:(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(u.Z,{children:"Device Name"}),(0,I.jsx)(u.Z,{children:"Slave ID"}),(0,I.jsx)(u.Z,{children:"Actions"})]})}),(0,I.jsx)(x.Z,{children:t.map((e=>(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(u.Z,{children:e.name}),(0,I.jsx)(u.Z,{children:e.slave_id}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(P.Z,{onClick:()=>(e=>{const r=t.find((t=>t.id===e));Re(r.name),We(r.slave_id),T(r),De(!0)})(e.id),variant:"contained",style:{marginRight:"10px"},children:(0,I.jsx)(w.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,I.jsx)(P.Z,{onClick:()=>((e,t)=>{T(e),Ee(t),Ue(!0)})(e.id,e.name),variant:"outlined",style:{marginRight:"10px"},children:(0,I.jsx)(k.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,I.jsx)(i.Z,{onClick:()=>Ye(e.id),variant:"contained",color:"primary",style:{marginRight:"10px"},children:"Configuration"})]})]},e.id)))})]})})})]})}),(0,I.jsxs)(m.Z,{open:Ke,onClose:vt,maxWidth:"md",fullWidth:!0,children:[(0,I.jsx)(j.Z,{children:we}),(0,I.jsx)(P.Z,{onClick:vt,color:"inherit",style:{position:"absolute",right:8,top:8},children:(0,I.jsx)(S.Z,{})}),(0,I.jsxs)(v.Z,{children:[(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,I.jsx)(j.Z,{children:"Parameter"}),(0,I.jsx)(i.Z,{onClick:()=>{pe(!0)},variant:"contained",color:"secondary",style:{marginBottom:"10px"},children:"Add"})]}),ie&&(0,I.jsx)(pt,{message:ie,onClose:()=>ce("")}),de&&(0,I.jsx)(Zt,{message:de,onClose:()=>he("")}),(0,I.jsx)(c.Z,{component:l.Z,children:(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(d.Z,{children:(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(u.Z,{children:"Function Code"}),(0,I.jsx)(u.Z,{children:"Address"}),(0,I.jsx)(u.Z,{children:"Parameter Name"}),(0,I.jsx)(u.Z,{children:"Data Type"}),(0,I.jsx)(u.Z,{children:"Actions"})]})}),(0,I.jsx)(x.Z,{children:N.map((e=>(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(u.Z,{children:e.function_code}),(0,I.jsx)(u.Z,{children:e.address}),(0,I.jsx)(u.Z,{children:e.parameter_name}),(0,I.jsx)(u.Z,{children:e.data_type}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(P.Z,{onClick:()=>(e=>{U(e),L(e.function_code),H(e.address),G(e.parameter_name),M(e.data_type),z(!0)})(e),variant:"contained",style:{marginRight:"10px"},children:(0,I.jsx)(w.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,I.jsx)(P.Z,{onClick:()=>(e=>{U(e),Ae(!0)})(e),variant:"contained",children:(0,I.jsx)(k.Z,{style:{color:"gray",fontSize:"medium"}})})]})]},e.id)))})]})}),(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,I.jsx)(j.Z,{style:{marginTop:"30px"},children:"Attribute"}),(0,I.jsx)(i.Z,{onClick:()=>{ge(!0)},variant:"contained",color:"secondary",style:{marginTop:"30px"},children:"Add"})]}),le&&(0,I.jsx)(pt,{message:le,onClose:()=>oe("")}),(0,I.jsx)(c.Z,{component:l.Z,style:{marginTop:"10px"},children:(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(d.Z,{children:(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(u.Z,{children:"Attribute Name"}),(0,I.jsx)(u.Z,{children:"Attribute Value"}),(0,I.jsx)(u.Z,{children:"Actions"})]})}),(0,I.jsx)(x.Z,{children:F.map((e=>(0,I.jsxs)(h.Z,{children:[(0,I.jsx)(u.Z,{children:e.name}),(0,I.jsx)(u.Z,{children:e.value}),(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(P.Z,{onClick:()=>(e=>{He(e),X(e.name),$(e.value),Ge(!0)})(e),variant:"contained",style:{marginRight:"10px"},children:(0,I.jsx)(w.Z,{style:{color:"gray",fontSize:"medium"}})}),(0,I.jsx)(P.Z,{onClick:()=>(e=>{He(e),ke(!0)})(e),variant:"contained",children:(0,I.jsx)(k.Z,{style:{color:"gray",fontSize:"medium"}})})]})]},e.id)))})]})})]})]}),(0,I.jsxs)(m.Z,{open:B,onClose:ot,children:[(0,I.jsx)(j.Z,{style:{color:"#008080"},children:"Update Parameter"}),(0,I.jsx)(v.Z,{children:(0,I.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,I.jsx)(s.ZP,{item:!0,xs:6,children:(0,I.jsxs)(p.Z,{fullWidth:!0,children:[(0,I.jsx)(Z.Z,{style:{marginTop:"10px"},children:"Function Code"}),(0,I.jsxs)(g.Z,{value:J,style:{marginTop:"10px"},onChange:e=>L(e.target.value),children:[(0,I.jsx)(y.Z,{value:"Coil Status",children:"Coil Status"}),(0,I.jsx)(y.Z,{value:"Input Status",children:"Input Status"}),(0,I.jsx)(y.Z,{value:"Holding Register",children:"Holding Register"}),(0,I.jsx)(y.Z,{value:"Input Register",children:"Input Register"})]})]})}),(0,I.jsx)(s.ZP,{item:!0,xs:6,children:(0,I.jsx)(f.Z,{label:"Address",value:V,style:{marginTop:"10px"},onChange:e=>H(e.target.value),fullWidth:!0})}),(0,I.jsx)(s.ZP,{item:!0,xs:6,children:(0,I.jsx)(f.Z,{label:"Parameter Name",value:q,onChange:e=>G(e.target.value),fullWidth:!0})}),(0,I.jsx)(s.ZP,{item:!0,xs:6,children:(0,I.jsxs)(p.Z,{fullWidth:!0,children:[(0,I.jsx)(Z.Z,{children:"Data Type"}),(0,I.jsxs)(g.Z,{value:K,onChange:e=>M(e.target.value),children:[(0,I.jsx)(y.Z,{value:"Integer",children:"Integer"}),(0,I.jsx)(y.Z,{value:"Float",children:"Float"}),(0,I.jsx)(y.Z,{value:"Double",children:"Double"}),(0,I.jsx)(y.Z,{value:"Boolean",children:"Boolean"})]})]})})]})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:ot,variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:async()=>{if(!O||!O.id)return void he("No Parameter selected for update");if(!Number.isInteger(parseInt(V,10)))return he("Please Insert Only Integer Values in the Address field!"),void et();const e={function_code:J,address:V,parameter_name:q,data_type:K};try{const t=await fetch("".concat(D,"/parameter/devices/").concat(E,"/parameter/").concat(O.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update Parameter: ".concat(t.statusText));$e({target:{value:E}}),ct(),et(),ce("Parameter updated successfully!")}catch(t){console.error("Error updating Parameter:",t),ct(),et(),he("Error updating Parameter. ".concat(t.message))}},variant:"contained",color:"primary",children:"Update"})]})]}),(0,I.jsxs)(m.Z,{open:be,onClose:at,children:[(0,I.jsx)(j.Z,{children:"Delete Parameter"}),(0,I.jsx)(v.Z,{children:(0,I.jsx)("p",{children:"Are you sure you want to delete this Parameter?"})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:()=>{Ae(!1),fe(null)},variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:()=>(async e=>{Ae(!1);try{if(E&&e&&e.id){const t=await fetch("".concat(D,"/parameter/devices/").concat(E,"/parameter/").concat(e.id),{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete parameter: ".concat(t.statusText));ce("Parameter deleted successfully!"),he("");const a=await fetch("".concat(D,"/devices/").concat(E)),n=await a.json();n.device&&Array.isArray(n.device.parameters)?R(n.device.parameters):R([]);const s=await fetch("".concat(D,"/devices/")),i=await s.json();Array.isArray(i.devices)?r(i.devices):console.error("Invalid response format for devices:",i)}}catch(t){console.error("Error deleting Parameter:",t),he("Error deleting Parameter. ".concat(t.message))}finally{z(!1),U(null)}})(O),variant:"contained",color:"error",children:"Delete"})]})]}),(0,I.jsxs)(m.Z,{open:qe,onClose:jt,children:[(0,I.jsx)(j.Z,{style:{color:"#008080"},children:"Update Attribute"}),(0,I.jsx)(v.Z,{children:(0,I.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,I.jsx)(s.ZP,{item:!0,xs:6,children:(0,I.jsx)(f.Z,{label:"Name",value:Q,onChange:e=>X(e.target.value),fullWidth:!0})}),(0,I.jsx)(s.ZP,{item:!0,xs:6,children:(0,I.jsx)(f.Z,{label:"Value",value:Y,onChange:e=>$(e.target.value),fullWidth:!0})})]})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:jt,variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:async()=>{if(!Ve||!Ve.id||!E)return void console.error("No Attribute or Device selected for update");const e={name:Q,value:Y};try{const t=await fetch("".concat(D,"/attribute/devices/").concat(E,"/attribute/").concat(Ve.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update Attribute: ".concat(t.statusText));$e({target:{value:E}}),jt(),ht(),oe("Attribute updated successfully!")}catch(t){console.error("Error updating Attribute:",t),he("Error updating Attribute. ".concat(t.message)),ht(),jt()}},variant:"contained",color:"primary",children:"Update"})]})]}),(0,I.jsxs)(m.Z,{open:Se,onClose:at,children:[(0,I.jsx)(j.Z,{children:"Delete Attribute"}),(0,I.jsx)(v.Z,{children:(0,I.jsx)("p",{children:"Are you sure you want to delete this Attribute?"})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:()=>{ke(!1),Pe(null)},variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:()=>(async e=>{Ae(!1);try{if(E&&e&&e.id){const t=await fetch("".concat(D,"/attribute/devices/").concat(E,"/attribute/").concat(e.id),{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete Attribute: ".concat(t.statusText));oe("Attribute deleted successfully!"),he("");const a=await fetch("".concat(D,"/devices/").concat(E)),n=await a.json();n.device&&Array.isArray(n.device.attributes)?W(n.device.attributes):W([]);const s=await fetch("".concat(D,"/devices/")),i=await s.json();Array.isArray(i.devices)?r(i.devices):console.error("Invalid response format for devices:",i)}}catch(t){console.error("Error deleting Attribute:",t),he("Error deleting Attribute. ".concat(t.message))}finally{ke(!1),Ge(!1),He(null)}})(Ve),variant:"contained",color:"error",children:"Delete"})]})]}),(0,I.jsxs)(m.Z,{open:_e,onClose:tt,children:[(0,I.jsx)(j.Z,{children:"Update Device"}),(0,I.jsx)(v.Z,{children:E&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f.Z,{label:"Device Name",value:Ne,style:{marginTop:"5px",marginRight:"5px"},onChange:e=>Re(e.target.value)}),(0,I.jsx)(f.Z,{label:"Slave ID",value:Fe,style:{marginTop:"5px"},onChange:e=>We(e.target.value)})]})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:tt,variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:async()=>{try{const e={name:Ne,slave_id:Fe};await fetch("".concat(D,"/devices/").concat(E.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});const t=await fetch("".concat(D,"/devices/")),a=await t.json();Array.isArray(a.devices)?(Ee(Ne),Ie(Fe),r(a.devices),se("Device updated successfully!")):console.error("Invalid response format for devices:",a)}catch(e){console.error("Error updating device:",e),he("Error updating device. Please try again.")}finally{De(!1)}},variant:"contained",color:"primary",children:"Update"})]})]}),(0,I.jsxs)(m.Z,{open:Oe,onClose:rt,children:[(0,I.jsx)(j.Z,{children:"Delete Device"}),(0,I.jsx)(v.Z,{children:(0,I.jsxs)("p",{children:['Are you sure you want to delete "',we,'"?']})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:rt,variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:()=>(async e=>{try{await fetch("".concat(D,"/devices/").concat(e),{method:"DELETE"});const t=await fetch("".concat(D,"/devices/")),a=await t.json();Array.isArray(a.devices)?(r(a.devices),R([]),W([]),T(null),Ee(""),Ie("")):console.error("Invalid response format for devices:",a),se("Device deleted successfully!")}catch(t){console.error("Error deleting device:",t),he("Error deleting device. Please try again.")}finally{Ue(!1),z(!1),U(null),He(null)}})(E),variant:"contained",color:"error",children:"Delete"})]})]}),(0,I.jsxs)(m.Z,{open:me,onClose:st,children:[(0,I.jsx)(j.Z,{children:"Add Device"}),(0,I.jsxs)(v.Z,{children:[(0,I.jsx)(f.Z,{label:"Device Name",value:ee,onChange:e=>te(e.target.value),style:{marginRight:"5px",marginTop:"5px"}}),(0,I.jsx)(f.Z,{label:"Slave ID",value:re,style:{marginTop:"5px"},onChange:e=>ae(e.target.value)})]}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:st,variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:async()=>{if(ee&&re){const t={name:ee,slave_id:re};try{if(!(await fetch("".concat(D,"/devices/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Network response was not ok");se("Device created successfully!"),nt(),je(!1);const e=await fetch("".concat(D,"/devices/")),a=await e.json();Array.isArray(a.devices)?r(a.devices):(he("Invalid response format for devices: ".concat(a)),nt(),je(!1))}catch(e){console.error("Error creating device:",e),he("Error creating device. Please try again."),nt(),je(!1)}}else he("Both device name and slave ID are required"),nt(),je(!1)},variant:"contained",children:"Create Device"})]})]}),(0,I.jsxs)(m.Z,{open:ve,onClose:it,children:[(0,I.jsx)(j.Z,{children:"Add Parameter"}),(0,I.jsx)(v.Z,{children:Be.map(((e,t)=>(0,I.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,I.jsx)(s.ZP,{item:!0,xs:2,children:(0,I.jsxs)(p.Z,{fullWidth:!0,children:[(0,I.jsx)(Z.Z,{style:{minWidth:"120px",marginTop:"5px"},children:"Function Code"}),(0,I.jsxs)(g.Z,{value:e.function_code||"",style:{marginTop:"10px",minWidth:"150px"},onChange:e=>dt(t,"function_code",e.target.value),children:[(0,I.jsx)(y.Z,{value:"Coil Status",children:"Coil Status"}),(0,I.jsx)(y.Z,{value:"Input Status",children:"Input Status"}),(0,I.jsx)(y.Z,{value:"Holding Register",children:"Holding Register"}),(0,I.jsx)(y.Z,{value:"Input Register",children:"Input Register"})]})]})}),(0,I.jsx)(s.ZP,{item:!0,xs:4,children:(0,I.jsx)(f.Z,{label:"Address",value:e.address,style:{marginLeft:"70px",marginTop:"10px"},onChange:e=>dt(t,"address",e.target.value)})}),(0,I.jsx)(s.ZP,{item:!0,xs:3,children:(0,I.jsx)(f.Z,{label:"Parameter Name",value:e.ParameterName,style:{marginTop:"10px"},onChange:e=>dt(t,"ParameterName",e.target.value)})}),(0,I.jsx)(s.ZP,{item:!0,xs:2,children:(0,I.jsxs)(p.Z,{fullWidth:!0,children:[(0,I.jsx)(Z.Z,{style:{minWidth:"80px",marginTop:"5px"},children:"Data Type"}),(0,I.jsxs)(g.Z,{value:e.data_type,style:{marginTop:"10px",minWidth:"100px"},onChange:e=>dt(t,"data_type",e.target.value),children:[(0,I.jsx)(y.Z,{value:"Integer",children:"Integer"}),(0,I.jsx)(y.Z,{value:"Float",children:"Float"}),(0,I.jsx)(y.Z,{value:"Double",children:"Double"}),(0,I.jsx)(y.Z,{value:"Boolean",children:"Boolean"})]})]})}),(0,I.jsx)(s.ZP,{item:!0,xs:1,children:0!==t&&(0,I.jsx)(P.Z,{onClick:()=>(e=>{const t=[...Be];t.splice(e,1),ze(t)})(t),children:(0,I.jsx)(A.Z,{style:{color:"red"}})})}),(0,I.jsx)(s.ZP,{item:!0,xs:2,children:t===Be.length-1&&(0,I.jsx)(P.Z,{onClick:lt,children:(0,I.jsx)(b.Z,{style:{color:"green"}})})})]},t)))}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:it,variant:"outlined",color:"secondary",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:()=>{if(!E)return he("Please select a device!"),void pe(!1);if(Be.some((e=>!e.function_code||!e.address||!e.ParameterName||!e.data_type)))return he("Please fill in all the required fields for each parameter!"),pe(!1),void ct();if(Be.some((e=>!Number.isInteger(parseInt(e.address,10)))))return he("Please Enter Only Integer Values in the Address Field!"),ct(),void pe(!1);const e={parameters:Be.map((e=>({active:!0,function_code:e.function_code,address:e.address,parameter_name:e.ParameterName,data_type:e.data_type})))};fetch("".concat(D,"/parameter/devices/").concat(E,"/parameter"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("One or more parameters failed to create.");return e.json()})).then((e=>{console.log("API Response Data:",e),e.created_parameters?(Xe([...Qe,...e.created_parameters]),ce("Parameters created successfully!"),ct(),pe(!1),$e({target:{value:E}})):(console.error("Unexpected response format:",e),he("Error creating Parameters. Please try again."),ct(),pe(!1))})).catch((e=>{console.error("Error creating Parameters:",e),he("Error creating Parameters. Please try again."),ct(),pe(!1)}))},variant:"contained",color:"primary",children:"Create Parameter"})]})]}),(0,I.jsxs)(m.Z,{open:Ze,onClose:ut,children:[(0,I.jsx)(j.Z,{children:"Add Attribute"}),(0,I.jsx)(v.Z,{children:Je.map(((e,t)=>(0,I.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,I.jsx)(s.ZP,{item:!0,xs:3,children:(0,I.jsx)(f.Z,{label:"Name",value:e.name,style:{marginTop:"7px"},onChange:e=>mt(t,"name",e.target.value)})}),(0,I.jsx)(s.ZP,{item:!0,xs:3,children:(0,I.jsx)(f.Z,{label:"Value",value:e.value,style:{marginTop:"7px"},onChange:e=>mt(t,"value",e.target.value)})}),(0,I.jsx)(s.ZP,{item:!0,xs:1,children:0!==t&&(0,I.jsx)(P.Z,{onClick:()=>(e=>{const t=[...Je];t.splice(e,1),Le(t)})(t),children:(0,I.jsx)(A.Z,{style:{color:"red"}})})}),(0,I.jsx)(s.ZP,{item:!0,xs:1,children:t===Je.length-1&&(0,I.jsx)(P.Z,{onClick:xt,children:(0,I.jsx)(b.Z,{style:{color:"green"}})})})]},t)))}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(i.Z,{onClick:ut,variant:"outlined",color:"error",children:"Cancel"}),(0,I.jsx)(i.Z,{onClick:()=>{if(!E)return void he("Please select a device!");if(Je.some((e=>!e.name||!e.value)))return he("Please fill in all the required fields for each attribute!"),void ht();const e={attributes:Je.map((e=>({name:e.name,value:e.value})))};fetch("".concat(D,"/attribute/devices/").concat(E,"/attribute"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("One or more attributes failed to create.")})).then((()=>{oe("Attributes created successfully!"),ht(),ge(!1),$e({target:{value:E}})})).catch((e=>{console.error("Error creating Attributes:",e),he("Error creating Attributes. Please try again."),ht(),ge(!1)}))},variant:"contained",children:"Create Attribute"})]})]})]})}},5101:(e,t,r)=>{r.d(t,{Z:()=>a});const a={backendUrl:"http://192.168.1.10:5000"}}}]);
//# sourceMappingURL=399.821e117a.chunk.js.map